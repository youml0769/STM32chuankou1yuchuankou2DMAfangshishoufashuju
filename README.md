# STM32串口1与串口2 DMA方式收发数据

## 简介

本资源文件提供了STM32系列微控制器中串口1和串口2的DMA方式收发数据实现方法。通过使用DMA（直接内存访问）技术，可以显著减少CPU的负担，尤其是在高波特率的情况下，效果尤为明显。本方法还结合了定时器和串口数据空闲中断，能够接收任意大小的数据包，并将接收到的数据拷贝到缓冲区，供其他程序处理。

## 功能特点

- **DMA方式收发数据**：通过DMA技术，实现串口数据的直接内存访问，减少CPU的负担。
- **定时器定时查询**：使用定时器定时查询dMA接收到的数据，确保数据的实时性。
- **数据空闲中断**：当串口数据空闲时，触发中断，将接收到的数据拷贝到缓冲区。
- **任意大小数据包接收**：能够接收任意大小的数据包，灵活应对不同的数据传输需求。
- **低CPU占用**：本方法占用CPU时间极少，尤其在高波特率时，效果更加明显。

## 使用方法

1. **配置串口**：在STM32的初始化代码中，配置串口1和串口2的相关参数，包括波特率、数据位、停止位等。
2. **配置DMA**：配置DMA通道，使其与串口1和串口2关联，并设置DMA的传输方向（从外设到内存或从内存到外设）。
3. **配置定时器**：配置定时器，设置定时查询DMA接收数据的频率。
4. **编写中断处理函数**：编写串口数据空闲中断处理函数，在中断触发时将DMA接收到的数据拷贝到缓冲区。
5. **数据处理**：在主程序或其他任务中，处理从缓冲区中读取的数据。

## 注意事项

- **DMA配置**：确保DMA的配置正确，避免数据传输错误。
- **缓冲区管理**：合理管理缓冲区的大小，避免数据溢出或丢失。
- **中断优先级**：根据实际需求，合理设置中断优先级，避免中断嵌套或丢失。

## 适用场景

本方法适用于需要高效率、低CPU占用的串口数据收发场景，尤其适用于高波特率的数据传输，如工业控制、通信设备等。

## 总结

通过使用DMA方式进行串口数据收发，结合定时器和数据空闲中断，本方法能够实现高效、低延迟的数据传输，适用于各种需要高效率串口通信的应用场景。

## 下载链接
[STM32串口1与串口2DMA方式收发数据](https://pan.quark.cn/s/b08917f96c90) 

(备用: [备用下载](https://pan.baidu.com/s/1WixZsNS-mR4B-DU2DtIaDw?pwd=1234))

## 说明

该仓库仅用于学习交流，请勿用于商业用途。
